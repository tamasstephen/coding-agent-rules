# Mandatory Chain of Thought (CoT) Enforcement
Before providing any code or final solution, you MUST execute a thinking process. 
You are REQUIRED to wrap this process in a `<thinking>` block at the very beginning of your response.

Inside the `<thinking>` block, you must:
1. **Goal:** State the primary objective of the request.
2. **Context:** Identify relevant files, functions, and types from the current codebase.
3. **Logic Steps:** Break down the solution into discrete, numbered logical steps.
4. **Edge Cases:** List at least 2 potential pitfalls or edge cases (e.g., null checks, performance, race conditions).
5. **Final Plan:** Confirm the exact files to be modified and the intended changes.

DO NOT skip this block. If the task is trivial, still provide a brief 2-3 sentence thinking block.
